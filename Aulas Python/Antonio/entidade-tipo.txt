--------------------------------------------------------------------------------
Exercício 1

Considere a entidade-tipo ALUNO:

Considere os seguintes dados para (instâncias de) ALUNO, apresentados de forma tabelada, e indique o que há de errado com cada um dos valores a negrito apresentados.

**Resposta:**
1. O numMec para a Maria Silveira partilha o mesmo identificador único que a instância anterior.
2. O sexo da instância da Maria Silveira não pode ser NULL.
3. O campo idade tem o valor 64, o que não é coerente com a DataNasc, não sendo assim derivada da mesma.
4. A Morada não se trata de um campo composto.

--------------------------------------------------------------------------------
Exercício 2

Tenha em conta os relacionamentos para o universo (simplificado) de uma faculdade:

Justifique se o modelo de BD apresentado é ou não consistente com os seguintes dados:

- O Dep. de Ciência de Computadores tem como directores o Prof. Alípio Jorge e o Prof. Eduardo Marques.  
  **R:** Restrição de cardinalidade violada.
- O Dep. Física não tem um diretor definido.
- O Dep. de Ciências das Coisas tem como diretor o Prof. António das Cenas.
- O Dep. de Ciências das Coisas não tem professores.
- O Prof. António das Cenas trabalha nos Dep. de Ciências das Coisas e Dep. Física.
- O Prof. Eduardo Marques trabalha no Dep. de Ciência de Computadores.
- O Dep. de Ciência das Coisas não é responsável por qualquer curso.
- Os cursos de Licenciatura em Ciência de Computadores e Mestrado em Segurança Informática são da responsabilidade do Dep. Ciências dos Computadores.
- O curso de Licenciatura em Coisas é da responsabilidade dos Dep. Física e do Dep. Ciência das Coisas.
- O curso de Mestrado em Inteligência Artificial não teve ainda alunos inscritos.
- O aluno José Silva esteve inscrito na Licenciatura de Ciência de Computadores de 2015 a 2019, e está inscrito desde 2020 no Mestrado em Segurança Informática.
- A aluna Maria Silva não está ainda inscrita em nenhum curso.

--------------------------------------------------------------------------------
Exercício 3

Considere um modelo simplificado para o universo de uma empresa de organização de eventos. As entidades-tipo em causa e respetivos atributos consistem em:

### 1. FUNCIONÁRIO

**Chave:** nº CC

**Atributos:**
- nº CC: simples, valor único, base
- nome: simples, valor único, base
- data de nascimento: simples, valor único, base
- idade: derivado (a partir da data de nascimento)
- cargo: simples, valor único, base
- números de telefone: simples, multivalorado, base
- email: simples, valor único, base, opcional

### 2. ESPAÇO

**Chave:** código único

**Atributos:**
- código: simples, valor único, base
- nome: simples, valor único, base
- morada: composto (rua, número, andar [opcional], localidade, código postal)

### 3. EVENTO

**Chave:** código único

**Atributos:**
- código: simples, valor único, base
- nome: simples, valor único, base
- data de início: simples, valor único, base
- data de fim: simples, valor único, base

--------------------------------------------------------------------------------
Exercício 4

Considere agora os seguintes relacionamentos entre entidades no universo da empresa de gestão de eventos:

- Cada funcionário trabalha apenas num único espaço de eventos. Um espaço de eventos tem pelo menos um funcionário que trabalha nele.
- Cada espaço de eventos é gerido por um dos funcionários que nele trabalham.
- Um funcionário poderá ter um supervisor e/ou ser supervisor de vários outros funcionários.
- Cada evento tem necessariamente lugar em um ou mais espaços, tendo cada alocação de espaço a evento uma data de início e uma data de fim de ocupação. Poderá haver espaços sem eventos associados e outros a acolher múltiplos eventos.

### Relacionamentos e Restrições

#### Trabalha_em (FUNCIONÁRIO → ESPAÇO)
- **Cardinalidade:** N:1 (cada funcionário trabalha em um espaço; cada espaço tem vários funcionários)
- **Participação:** Funcionário: total | Espaço: parcial

#### Gere (FUNCIONÁRIO → ESPAÇO)
- **Cardinalidade:** 1:1 (um funcionário gere um espaço; um espaço só pode ser gerido por um funcionário que nele trabalhe)
- **Participação:** Espaço: total | Funcionário: parcial (nem todos são gestores)
- **Nota:** Possivelmente um sub-relacionamento ou restrição sobre Trabalha_em.

#### Supervisiona (auto-relacionamento FUNCIONÁRIO)
- **Cardinalidade:** 1:N (um supervisor pode supervisionar vários; cada supervisionado tem no máximo um supervisor)
- **Participação:** Supervisor: parcial | Supervisionado: parcial

#### Ocupa (EVENTO ↔ ESPAÇO)
- **Cardinalidade:** M:N (um evento pode ocupar vários espaços; um espaço pode acolher vários eventos)
- **Atributos do relacionamento:** data início, data fim
- **Participação:** Evento: total | Espaço: parcial (pode não ter evento)

--------------------------------------------------------------------------------
Exercício 5
Considere os seguintes requisitos para uma base de dados de uma rede social simples
"Livro das Caras" em que:
 Um utilizador é caracterizado por um identificador de "login" único, nome e email.
 Cada utilizador pode ser seguidor de outros em que tenha interesse de
acompanhar atividades.
 Um utilizador escreve "posts", em que cada "post" é caracterizado por um
identificador único, um texto, e um conjunto de "hashtags" (etiquetas de texto).
Um "post" tem como autor um único utilizador.
 Os utilizadores podem assinalar que apreciaram "posts" com "likes".
 Os utilizadores podem escrever comentários a "posts". Um comentário tem um
número de ordem e um texto associado, sendo o número de ordem de um
comentário (apenas) único por "post", isto é, pode-se repetir para ''posts''
diferentes. Tal como um "post", um comentário tem sempre a um autor único.
 Podem haver utilizadores sem qualquer participação em termos de seguimento de
outros / seguidores / "posts" / comentários / "likes".
Dicas:
 Será conveniente modelar comentários usando uma entidade-tipo fraca,
tendo como entidade-tipo identificadora a usada para "posts".
 A reação a posts por comentários poderá ser modelada por um
relacionamento entre utilizadores e comentários.

Defina um modelo para a base de dados na forma de um diagrama ER.